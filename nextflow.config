manifest {
  name = 'FloWuenne/nf_spatialMI'
  author = 'Florian Wuennemann'
  homePage = 'https://github.com/FloWuenne/nf_spatialMI'
  description = 'A nextflow pipeline to process Molecular Cartography images.'
}

docker.enabled = true

profiles {

  standard {
      process.executor = 'local'
  }

  cluster_slurm {
      process.executor = 'slurm'

  }

}

params {
    sample_sheet = "/Users/florian_wuennemann/1_Projects/MI_project/data/nextflow_test_data/single_sample.sample_sheet.nf_spatialMI.csv"
    imgs_path = "/Users/florian_wuennemann/1_Projects/MI_project/data/nextflow_test_data/"
    spots_path = "/Users/florian_wuennemann/1_Projects/MI_project/data/nextflow_test_data/"
    tensor_size = 10
    genes = "'Aqp1 Pecam1 Pln'"
    ilastik_pixelprob_model = "/Users/florian_wuennemann/1_Projects/MI_project/data/nextflow_test_data/ilastik_pixelprob.ilp"
    ilastik_multicut_model = "/Users/florian_wuennemann/1_Projects/MI_project/data/nextflow_test_data/ilastik_multicut.ilp"
}

process {
    withName: "MINDAGAP" {
      ext.args= ""
      ext.args2= "5 5"
    }
    withName: "ILASTIK_PIXELCLASSIFICATION" {
      ext.args = '--output_format=hdf5 --export_source="Probabilities" --export_dtype="int16"'
    }
}